<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Productenbeheer</title>
    <link rel="shortcut icon" href="#">

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .product-item {
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .product-item p {
            margin: 0;
            font-weight: bold;
        }

        .product-item:last-child {
            border-bottom: none;
        }
    </style>
</head>

<body class="bg-light">

    <div class="container py-5">

        <h1 class="mb-4 text-primary">Productbeheer</h1>

        <!-- Knoppen -->
        <div class="mb-4">
            <button id="btnToon" class="btn btn-success">Toon volledige lijst</button>
            <button id="btnFilter" class="btn btn-warning me-2">Toon Elektronica</button>


            <!-- ### Uitbreiding ### -->
            <button class="btn btn-outline-secondary filter-btn" data-categorie="Elektronica">Elektronica</button>
            <button class="btn btn-outline-secondary filter-btn" data-categorie="Meubels">Meubels</button>
            <button id="btnDuurste" class="btn btn-outline-secondary me-2">Duurste</button>
            <button id="btnSort" class="btn btn-outline-secondary me-2">Sorteer</button>
            <!-- ### Uitbreiding ### -->
        </div>

        <!-- Resultaat -->
        <div id="result" class="card shadow-sm">
            <div class="card-body">
                <!-- JS vult dit automatisch -->
                <h4 class="mb-3">Producten</h4>
                <div class="product-item">
                    <p>productnaam</p>
                    <span class="text-muted">
                        € productprijs — productcategorie
                    </span>
                </div>

            </div>
        </div>

    </div>


    <script>
        // Array met producten
        const producten = [
            { id: 1, naam: "Laptop", prijs: 999, categorie: "Elektronica" },
            { id: 2, naam: "Muis", prijs: 25, categorie: "Elektronica" },
            { id: 3, naam: "Bureau", prijs: 199, categorie: "Meubels" },
            { id: 4, naam: "Bureaustoel", prijs: 149, categorie: "Meubels" },
            { id: 5, naam: "Monitor", prijs: 299, categorie: "Elektronica" },
            { id: 6, naam: "Toetsenbord", prijs: 49, categorie: "Elektronica" },
            { id: 7, naam: "Lamp", prijs: 35, categorie: "Meubels" },
            { id: 8, naam: "Kast", prijs: 249, categorie: "Meubels" },
            { id: 9, naam: "Hoofdtelefoon", prijs: 89, categorie: "Elektronica" },
            { id: 10, naam: "Smartphone", prijs: 699, categorie: "Elektronica" }
        ];

        const resultDiv = document.querySelector("#result .card-body");

        const btnSort = document.querySelector("#btnSort");
        const btnFilter = document.querySelector("#btnFilter");
        const btnToon = document.querySelector("#btnToon");

        // ### Uitbreiding ###
        const filterKnoppen = document.querySelectorAll(".filter-btn");
        const btnDuurste = document.querySelector("#btnDuurste");
        // ### Uitbreiding ###

        // Functie om lijst te tonen
        function toonProducten(arrayProducten) {
            resultDiv.innerHTML = `<h4 class="mb-3">Producten</h4>`;

            arrayProducten.forEach(product => {
                resultDiv.innerHTML += `
                    <div class="product-item">
                        <p>${product.naam}</p>
                        <span class="text-muted">
                            € ${product.prijs} — ${product.categorie}
                        </span>
                    </div>
                    `;
            });
        }

        // Start met volledige lijst
        toonProducten(producten);

        // Filtering
        btnFilter.addEventListener("click", () => {
            const filtered = producten.filter(p => p.categorie === "Elektronica");
            toonProducten(filtered);
        });

        // Toon volledige lijst
        btnToon.addEventListener("click", () => toonProducten(producten));


        // ### Uitbreiding ###
        // Voeg eventlistener toe aan elke knop
        filterKnoppen.forEach(knop => {
            knop.addEventListener("click", function () {
                const cat = this.dataset.categorie;  // haal de data-categorie op
                const gefilterd = producten.filter(p => p.categorie === cat);
                toonProducten(gefilterd);
            });
        });

        // Sorteren op prijs
        btnSort.addEventListener("click", () => {
            const sorted = [...producten].sort((a, b) => a.naam.localeCompare(b.naam));
            toonProducten(sorted);
        });

        // Duurste product
        btnDuurste.addEventListener("click", () => {
            const duurste = Array(producten.reduce((a, b) => a.prijs > b.prijs ? a : b));
            // console.log(duurste);
            toonProducten(duurste);
        });
        // ### Uitbreiding ###
    </script>

</body>

</html>