<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>getElementsByTagName</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <link rel="shortcut icon" href="#">
</head>

<body>
    <div class="container">

        <ul class="list-group py-2">
            <!-- Emmet li.list-group-item.upd-class{Plug-in $}*5 -->
            <li class="list-group-item upd-class">Plug-in 1</li>
            <li class="list-group-item upd-class">Plug-in 2</li>
            <li class="list-group-item upd-class">Plug-in 3</li>
            <li class="list-group-item upd-class">Plug-in 4</li>
            <li class="list-group-item upd-class">Plug-in 5</li>
        </ul>

        <button id="btnUpdate" type="button" class="btn btn-secondary m-2">Update</button>
    </div>

    <script>
        let but = document.querySelector('#btnUpdate');

        let update = () => {
            // Verkrijg een NodeList van alle .upd-class elementen
            const demoClasses = document.querySelectorAll('.upd-class');
            // De forEach werkt niet op een HTMLCollection !!
            // const demoClasses = document.getElementsByClassName('upd-class');

            console.log(demoClasses);

            // We wijzigen de tekst van ieder element met behulp van de forEach methode
            demoClasses.forEach(element => element.textContent += ' (updated)');

            // We geven de button de klasse success & disabled mee, de klasse secondary verwijderen
            const list = but.classList;
            // console.log(list);
            list.remove('btn-secondary');
            list.add('btn-success');
            list.add('disabled');
            // Alterenatief
            // document.querySelector('#btnUpdate').setAttribute('class', 'btn btn-success m-2');

            // We verwijderen het event van de knop
            but.removeEventListener('click', update, false);
        }

        but.addEventListener('click', update, false);
    </script>

</body>

</html>